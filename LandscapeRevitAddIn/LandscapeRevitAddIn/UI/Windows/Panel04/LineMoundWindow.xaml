<Window x:Class="LandscapeRevitAddIn.UI.Windows.Panel04.LineMoundWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="XD Landscape - Line Mound" Height="750" Width="900"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanResize"
        Background="White"
        WindowStyle="SingleBorderWindow"
        MinHeight="600" MinWidth="800">

	<Window.Resources>
		<!-- Logo-Inspired Gradient Background -->
		<LinearGradientBrush x:Key="LogoGradientBackground" StartPoint="0,0" EndPoint="1,1">
			<GradientStop Color="#B8D4C0" Offset="0"/>
			<GradientStop Color="#A8C9B3" Offset="0.3"/>
			<GradientStop Color="#8FBB9A" Offset="0.6"/>
			<GradientStop Color="#7AAE85" Offset="0.8"/>
			<GradientStop Color="#6BA177" Offset="1"/>
		</LinearGradientBrush>

		<!-- Card Background -->
		<SolidColorBrush x:Key="CardBackground" Color="#FEFEFE" Opacity="0.95"/>

		<!-- Modern Button Style -->
		<Style x:Key="ModernButton" TargetType="Button">
			<Setter Property="Background" Value="#4A7C5A"/>
			<Setter Property="Foreground" Value="White"/>
			<Setter Property="BorderBrush" Value="#3D6349"/>
			<Setter Property="BorderThickness" Value="1"/>
			<Setter Property="Padding" Value="12,8"/>
			<Setter Property="FontWeight" Value="SemiBold"/>
			<Setter Property="FontSize" Value="11"/>
			<Setter Property="Cursor" Value="Hand"/>
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="Button">
						<Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="4">
							<ContentPresenter HorizontalAlignment="Center"
                                            VerticalAlignment="Center"/>
						</Border>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
			<Style.Triggers>
				<Trigger Property="IsMouseOver" Value="True">
					<Setter Property="Background" Value="#5A8C6A"/>
				</Trigger>
				<Trigger Property="IsPressed" Value="True">
					<Setter Property="Background" Value="#3A5C45"/>
				</Trigger>
				<Trigger Property="IsEnabled" Value="False">
					<Setter Property="Background" Value="#CCCCCC"/>
					<Setter Property="Foreground" Value="#666666"/>
					<Setter Property="Cursor" Value="Arrow"/>
				</Trigger>
			</Style.Triggers>
		</Style>

		<!-- Primary Action Button -->
		<Style x:Key="PrimaryButton" TargetType="Button" BasedOn="{StaticResource ModernButton}">
			<Setter Property="Background" Value="#2D5D3A"/>
			<Setter Property="FontWeight" Value="Bold"/>
			<Setter Property="FontSize" Value="12"/>
			<Style.Triggers>
				<Trigger Property="IsMouseOver" Value="True">
					<Setter Property="Background" Value="#4A7C5A"/>
				</Trigger>
				<Trigger Property="IsEnabled" Value="False">
					<Setter Property="Background" Value="#CCCCCC"/>
					<Setter Property="Foreground" Value="#666666"/>
				</Trigger>
			</Style.Triggers>
		</Style>

		<!-- Remove Button Style -->
		<Style x:Key="RemoveButton" TargetType="Button">
			<Setter Property="Background" Value="#A67C6C"/>
			<Setter Property="Foreground" Value="White"/>
			<Setter Property="BorderBrush" Value="#8B6B5B"/>
			<Setter Property="BorderThickness" Value="1"/>
			<Setter Property="FontWeight" Value="Bold"/>
			<Setter Property="FontSize" Value="12"/>
			<Setter Property="Cursor" Value="Hand"/>
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="Button">
						<Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="3">
							<ContentPresenter HorizontalAlignment="Center"
                                            VerticalAlignment="Center"/>
						</Border>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
			<Style.Triggers>
				<Trigger Property="IsMouseOver" Value="True">
					<Setter Property="Background" Value="#B88C7C"/>
				</Trigger>
				<Trigger Property="IsPressed" Value="True">
					<Setter Property="Background" Value="#956C5C"/>
				</Trigger>
			</Style.Triggers>
		</Style>

		<!-- Modern ComboBox Style -->
		<Style x:Key="ModernComboBox" TargetType="ComboBox">
			<Setter Property="Background" Value="White"/>
			<Setter Property="BorderBrush" Value="#A8C9B3"/>
			<Setter Property="BorderThickness" Value="1"/>
			<Setter Property="Padding" Value="12,10"/>
			<Setter Property="FontSize" Value="12"/>
			<Setter Property="Height" Value="40"/>
		</Style>

		<!-- Modern TextBox Style -->
		<Style x:Key="ModernTextBox" TargetType="TextBox">
			<Setter Property="Background" Value="White"/>
			<Setter Property="BorderBrush" Value="#A8C9B3"/>
			<Setter Property="BorderThickness" Value="1"/>
			<Setter Property="Padding" Value="12,10"/>
			<Setter Property="FontSize" Value="12"/>
			<Setter Property="Height" Value="40"/>
			<Style.Triggers>
				<Trigger Property="IsMouseOver" Value="True">
					<Setter Property="BorderBrush" Value="#4A7C5A"/>
				</Trigger>
				<Trigger Property="IsFocused" Value="True">
					<Setter Property="BorderBrush" Value="#2D5D3A"/>
				</Trigger>
			</Style.Triggers>
		</Style>

		<!-- Card Style -->
		<Style x:Key="Card" TargetType="Border">
			<Setter Property="Background" Value="{StaticResource CardBackground}"/>
			<Setter Property="BorderBrush" Value="#C8DDD0"/>
			<Setter Property="BorderThickness" Value="1"/>
			<Setter Property="CornerRadius" Value="8"/>
			<Setter Property="Padding" Value="20"/>
			<Setter Property="Effect">
				<Setter.Value>
					<DropShadowEffect ShadowDepth="2" BlurRadius="8" Opacity="0.15" Color="#4A7C5A"/>
				</Setter.Value>
			</Setter>
		</Style>

		<!-- Status Text Styles -->
		<Style x:Key="SuccessText" TargetType="TextBlock">
			<Setter Property="Foreground" Value="#2D5D3A"/>
			<Setter Property="FontWeight" Value="SemiBold"/>
		</Style>

		<Style x:Key="InfoText" TargetType="TextBlock">
			<Setter Property="Foreground" Value="#5A8C6A"/>
			<Setter Property="FontStyle" Value="Italic"/>
		</Style>
	</Window.Resources>

	<Grid Background="{StaticResource LogoGradientBackground}">
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="*"/>
			<RowDefinition Height="Auto"/>
		</Grid.RowDefinitions>

		<!-- Header -->
		<Border Grid.Row="0" Style="{StaticResource Card}" Margin="20,20,20,10">
			<Grid>
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="Auto"/>
					<ColumnDefinition Width="*"/>
				</Grid.ColumnDefinitions>

				<!-- Logo -->
				<Border Grid.Column="0" Width="72" Height="72"
                        VerticalAlignment="Center" Margin="0,0,20,0">
					<Border.Background>
						<ImageBrush x:Name="LogoBrush" Stretch="Uniform"/>
					</Border.Background>
				</Border>

				<!-- Title and Info -->
				<StackPanel Grid.Column="1" VerticalAlignment="Center">
					<TextBlock Text="XD Landscape"
                               FontSize="24" FontWeight="Bold" Foreground="#2D5D3A"
                               Margin="0,0,0,5"/>
					<TextBlock Text="Create Line Mounds"
                               FontSize="14" Foreground="#4A7C5A"/>
					<TextBlock Text="Create mounds based on selected lines and assigned levels"
                               FontSize="11" Foreground="#5A8C6A" Margin="0,2,0,0"/>
				</StackPanel>
			</Grid>
		</Border>

		<!-- Main Content Area -->
		<Border Grid.Row="1" Style="{StaticResource Card}" Margin="20,10,20,10">
			<Grid>
				<Grid.RowDefinitions>
					<RowDefinition Height="Auto"/>
					<RowDefinition Height="Auto"/>
					<RowDefinition Height="*" MinHeight="250"/>
					<RowDefinition Height="Auto"/>
				</Grid.RowDefinitions>

				<!-- Section Title -->
				<Grid Grid.Row="0" Margin="0,0,0,15">
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="*"/>
						<ColumnDefinition Width="Auto"/>
					</Grid.ColumnDefinitions>

					<TextBlock Grid.Column="0" Text="Line to Level Mapping"
                               FontSize="16" FontWeight="SemiBold" Foreground="#2D5D3A"
                               VerticalAlignment="Center"/>

					<TextBlock Grid.Column="1" Text="Map selected lines to elevation levels"
                               FontSize="11" Foreground="#5A8C6A"
                               VerticalAlignment="Center" FontStyle="Italic"/>
				</Grid>

				<!-- Table Header -->
				<Grid Grid.Row="1" Margin="0,0,0,0">
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="*"/>
						<ColumnDefinition Width="*"/>
						<ColumnDefinition Width="120"/>
						<ColumnDefinition Width="80"/>
					</Grid.ColumnDefinitions>

					<Border Grid.Column="0" Background="#E8F4EB"
                            BorderBrush="#C8DDD0" BorderThickness="1,1,0,1"
                            CornerRadius="6,0,0,0" Padding="15,12">
						<TextBlock Text="Selected Lines" FontWeight="SemiBold" FontSize="12"
                                   Foreground="#2D5D3A" HorizontalAlignment="Left"/>
					</Border>

					<Border Grid.Column="1" Background="#E8F4EB"
                            BorderBrush="#C8DDD0" BorderThickness="1,1,0,1"
                            Padding="15,12">
						<TextBlock Text="Level" FontWeight="SemiBold" FontSize="12"
                                   Foreground="#2D5D3A" HorizontalAlignment="Left"/>
					</Border>

					<Border Grid.Column="2" Background="#E8F4EB"
                            BorderBrush="#C8DDD0" BorderThickness="1,1,0,1"
                            Padding="8,12">
						<TextBlock Text="Elevation (ft)" FontWeight="SemiBold" FontSize="12"
                                   Foreground="#2D5D3A" HorizontalAlignment="Center"/>
					</Border>

					<Border Grid.Column="3" Background="#E8F4EB"
                            BorderBrush="#C8DDD0" BorderThickness="1"
                            CornerRadius="0,6,0,0" Padding="8,12">
						<TextBlock Text="Remove" FontWeight="SemiBold" FontSize="12"
                                   Foreground="#2D5D3A" HorizontalAlignment="Center"/>
					</Border>
				</Grid>

				<!-- Mapping Rows Container -->
				<ScrollViewer Grid.Row="2" VerticalScrollBarVisibility="Auto"
                              HorizontalScrollBarVisibility="Disabled"
                              BorderBrush="#C8DDD0" BorderThickness="1,0,1,1"
                              Background="White" MinHeight="250">
					<StackPanel Name="MappingRowsPanel">
						<!-- Mapping rows will be added here dynamically -->
						<Border Padding="40,60" Background="White">
							<StackPanel HorizontalAlignment="Center">
								<TextBlock Text="🏔️ Ready to Create Mounds"
                                           Foreground="#A8C9B3" FontSize="16"
                                           HorizontalAlignment="Center" Margin="0,0,0,8"
                                           FontWeight="SemiBold"/>
								<TextBlock Text="Click 'Add Line Mapping' to start creating mounds from lines and levels"
                                           Foreground="#7AAE85" FontStyle="Italic"
                                           HorizontalAlignment="Center" FontSize="12"/>
							</StackPanel>
						</Border>
					</StackPanel>
				</ScrollViewer>

				<!-- Add Row Button -->
				<Button Grid.Row="3" Name="AddRowButton"
                        Content="➕ Add Line Mapping"
                        Style="{StaticResource ModernButton}"
                        Height="42" Margin="0,15,0,0"
                        Click="AddRowButton_Click"/>
			</Grid>
		</Border>

		<!-- Footer with Summary and Actions -->
		<Border Grid.Row="2" Style="{StaticResource Card}" Margin="20,10,20,20">
			<Grid>
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="*"/>
					<ColumnDefinition Width="Auto"/>
				</Grid.ColumnDefinitions>

				<!-- Summary -->
				<StackPanel Grid.Column="0" VerticalAlignment="Center">
					<TextBlock Name="SummaryTextBlock"
                               FontWeight="SemiBold" FontSize="14" Foreground="#2D5D3A"
                               Text="Configure line mappings to create mounds"/>
					<TextBlock Text="Each mapping will create topographic mounds based on the selected lines and specified elevation"
                               FontSize="11" Foreground="#4A7C5A" Margin="0,2,0,0"/>
				</StackPanel>

				<!-- Action Buttons -->
				<StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center">
					<Button Name="CancelButton" Content="Cancel"
                            Style="{StaticResource ModernButton}"
                            Width="90" Height="38" Margin="0,0,12,0"
                            Click="CancelButton_Click"/>

					<Button Name="CreateMoundsButton" Content="🏔️ Create Mounds"
                            Style="{StaticResource PrimaryButton}"
                            Width="150" Height="38"
                            Click="CreateMoundsButton_Click" IsEnabled="False"/>
				</StackPanel>
			</Grid>
		</Border>
	</Grid>
</Window>